

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>10. Regular expressions &#8212; Programming Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '09_regex';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Object-oriented programming" href="10_oo_programming.html" />
    <link rel="prev" title="9. The exception mechanism" href="08_exception_mechanism.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/Hanze-Logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/Hanze-Logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    An intro to Python programming
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="00_jupyter.html">1. Jupyter notebook and Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_getting_started.html">2. A quick overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_data.html">3. Programming is: operations on data</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_flow_control.html">4. Control the flow of things</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_functions.html">5. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_reading_writing_files.html">6. Reading and writing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_core_library_functions.html">7. The core library functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_comprehensions.html">8. Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_exception_mechanism.html">9. The exception mechanism</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">10. Regular expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_oo_programming.html">11. Object-oriented programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_exercises.html">12. Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_anaconda.html">13. (Ana)conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_next_steps.html">14. Next steps: pandas</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/MichielNoback/pybook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/MichielNoback/pybook/issues/new?title=Issue%20on%20page%20%2F09_regex.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/09_regex.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Regular expressions</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">10.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regex-syntax">10.2. Regex syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#character-classes">10.2.1. Character classes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#special-character-classes">10.2.1.1. Special character classes</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantifiers">10.2.2. Quantifiers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anchors">10.2.3. Anchors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#alternatives">10.2.4. Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#being-greedy-or-non-greedy">10.2.5. Being greedy or non-greedy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-match-objects">10.3. Working with <code class="docutils literal notranslate"><span class="pre">match</span></code> objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-flags">10.4. Modifying flags</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="regular-expressions">
<h1><span class="section-number">10. </span>Regular expressions<a class="headerlink" href="#regular-expressions" title="Permalink to this headline">#</a></h1>
<div class="section" id="introduction">
<h2><span class="section-number">10.1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>Sometimes, literal text searching is not enough.</p>
<p>For instance, when searching for email addresses, zipcodes, telephone numbers, dates or biological sequence patterns (my field), it is impossible to say <em>what exactly</em> you want found, but you can say what it will <em>look like</em>.</p>
<p>This is where regular expressions come in. They provide a means to specify in a dedicated mini “language”, what the pattern looks like.</p>
<p>For instance, the pattern</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;[0-9]</span><span class="si">{4}</span><span class="s2">[a-zA-Z]</span><span class="si">{2}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Specifies a pattern that will look for four digits followed by two upper- or lowercase latters.</p>
<p>The Python <code class="docutils literal notranslate"><span class="pre">re</span></code> module provides all functionality for this kind of work.</p>
<div class="note admonition">
<p class="admonition-title">Regex</p>
<p>A regular expression or regex consists of a combination of literal character sequences, character classes, quantifiers, groupings and positional anchors that can be used to search for patterns in text in order to locate, extract or replace the occurrences.</p>
</div>
<p>In this tutorial the concepts will be demonstrated using te Python <code class="docutils literal notranslate"><span class="pre">re</span></code> module. To use this module, you will need to <em>import</em> it of course:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">re</span></code> module provides some useful functions for working with patterns:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Function</p></th>
<th class="text-left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong><code class="docutils literal notranslate"><span class="pre">findall(pattern,</span> <span class="pre">text)</span></code></strong></p></td>
<td class="text-left"><p>Returns a list containing all matches of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong><code class="docutils literal notranslate"><span class="pre">search(pattern,</span> <span class="pre">text)</span></code></strong></p></td>
<td class="text-left"><p>Returns a Match object if there is a match of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> anywhere in <code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong><code class="docutils literal notranslate"><span class="pre">finditer(pattern,</span> <span class="pre">text)</span></code></strong></p></td>
<td class="text-left"><p>Returns an iterator of Match objects for all matches of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong><code class="docutils literal notranslate"><span class="pre">split(pattern,</span> <span class="pre">text)</span></code></strong></p></td>
<td class="text-left"><p>Returns a list where the string has been split on each occurrences of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> in <code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong><code class="docutils literal notranslate"><span class="pre">sub(pattern,</span> <span class="pre">replacement,</span> <span class="pre">text)</span></code></strong></p></td>
<td class="text-left"><p>Replaces one or many matches of <code class="docutils literal notranslate"><span class="pre">pattern</span></code> with <code class="docutils literal notranslate"><span class="pre">replacement</span></code> in text and returns the resulting string</p></td>
</tr>
</tbody>
</table>
<p>For example, to extract occurrences of the word ‘the’ from a larger body of text you can use</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;The following telephone numbers can be used to get the required information on your order: 020-1234567 or 06-12345678&quot;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[Tt]he&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;The&#39;, &#39;the&#39;]
</pre></div>
</div>
</div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">[Tt]</span></code> specifies a <em>character class</em>.</p>
<p>Before looking at the functions of the <code class="docutils literal notranslate"><span class="pre">re</span></code> module in more detail, we’ll cover the basics of all regex elements first.</p>
</div>
<div class="section" id="regex-syntax">
<h2><span class="section-number">10.2. </span>Regex syntax<a class="headerlink" href="#regex-syntax" title="Permalink to this headline">#</a></h2>
<div class="section" id="character-classes">
<h3><span class="section-number">10.2.1. </span>Character classes<a class="headerlink" href="#character-classes" title="Permalink to this headline">#</a></h3>
<p>One of the pillars under regular expression syntax is the use of character classes. Character classes specify -for a single character position in the pattern- which characters are allowed on that position.</p>
<p>For instance, in the example above, (<code class="docutils literal notranslate"><span class="pre">[Tt]</span></code>), it was specified that both ‘T’ and ‘t’ were allowed at the first position of the expression. Character classes are generally specified between brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code>, but there are a few much-used character classes that have their own symbol.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Character class</p></th>
<th class="text-left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[AaBb]</span></code></p></td>
<td class="text-left"><p>Matches the characters ‘A’, ‘a’, ‘B’ and ‘B’</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[a-z]</span></code></p></td>
<td class="text-left"><p>Matches all lowercase characters between ‘a’ and ‘z’</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[a-zA-Z]</span></code></p></td>
<td class="text-left"><p>Matches all characters between ‘a’ and ‘z’ and ‘A’ and ‘Z’</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[0-9]</span></code></p></td>
<td class="text-left"><p>Matches all digits</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[-]</span></code></p></td>
<td class="text-left"><p>Matches a literal hyphen</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[^a]</span></code></p></td>
<td class="text-left"><p>Matches anything BUT a</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">[^0-9]</span></code></p></td>
<td class="text-left"><p>Matches anything BUT a digit</p></td>
</tr>
</tbody>
</table>
<div class="section" id="special-character-classes">
<h4><span class="section-number">10.2.1.1. </span>Special character classes<a class="headerlink" href="#special-character-classes" title="Permalink to this headline">#</a></h4>
<p>There are quite a few; see the <a class="reference external" href="https://docs.python.org/3/library/re.html">docs</a>. Here are only the most-used ones.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>special sequence</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></td>
<td><p>Matches <em>any</em> character.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\d</span></code></p></td>
<td><p>Matches all digits</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\s</span></code></p></td>
<td><p>Matches all whitespace characters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\w</span></code></p></td>
<td><p>Matches all word characters; equivalent to <code class="docutils literal notranslate"><span class="pre">[0-9a-zA-Z_]</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>Matches the tab character</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>Matches the newline character</p></td>
</tr>
</tbody>
</table>
<p>Here is an example, looking for digits and spaces</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;\s\d\s\w&quot;</span><span class="p">,</span> <span class="s2">&quot;If I cout to 9</span><span class="se">\t</span><span class="s2">will you count to 8 please?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39; 9\tw&#39;, &#39; 8 p&#39;]
</pre></div>
</div>
</div>
</div>
<div class="warning admonition">
<p class="admonition-title">The escape character <code class="docutils literal notranslate"><span class="pre">\</span></code></p>
<p>The backslash <code class="docutils literal notranslate"><span class="pre">\</span></code> has special meaning; it <em>escapes</em> the special meaning of the following symbol, or gives it special meaning (as seen above) depending on context.</p>
<p>It is the cause of many programming errors and bugs, especially when the backslash itself is part of the pattern.</p>
</div>
<p>When looking for a literal ‘[‘ or ‘]’ in a search string for instance, you need to do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[\[\]]&quot;</span><span class="p">,</span> <span class="s2">&quot;hallo [daar] ben ik weer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;[&#39;, &#39;]&#39;]
</pre></div>
</div>
</div>
</div>
<p>When looking for a literal ‘' it gets even harder:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;[</span><span class="se">\\</span><span class="s2">\]&quot;</span><span class="p">,</span> <span class="s2">&quot;hallo \ daar ben ik weer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;\\&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="quantifiers">
<h3><span class="section-number">10.2.2. </span>Quantifiers<a class="headerlink" href="#quantifiers" title="Permalink to this headline">#</a></h3>
<p>Quantifiers are used to specify how often a (series of) characters are allowed to occur.<br />
The universal form is with the <code class="docutils literal notranslate"><span class="pre">{from,to}</span></code> syntax, but there are a few shortcuts here as well:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>quantifier</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{3,8}</span></code></p></td>
<td><p>Matches a repetition of 3 to 8 times</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{,2}</span></code></p></td>
<td><p>Matches a repetition of 0 to 2 times; equivalent to <code class="docutils literal notranslate"><span class="pre">{0,2}</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{3,}</span></code></p></td>
<td><p>Matches a repetition of 3 or more times</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{3,8}</span></code></p></td>
<td><p>Matches a repetition of 3 to 8 times</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></td>
<td><p>Matches a repetition of one or more times</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
<td><p>Matches a repetition of zero or one times</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></td>
<td><p>Matches a repetition of zero or more times</p></td>
</tr>
</tbody>
</table>
<p>Here are a few examples.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;3-4:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;a{3,4}&quot;</span><span class="p">,</span> <span class="s2">&quot;Please say aaaa, not aaa!&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;1 or more:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;a+&quot;</span><span class="p">,</span> <span class="s2">&quot;Please say aaaa, not aaa!&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;more than 2:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;a{2,}&quot;</span><span class="p">,</span> <span class="s2">&quot;Please say aaaa, not aaa!&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3-4: [&#39;aaaa&#39;, &#39;aaa&#39;]
1 or more: [&#39;a&#39;, &#39;a&#39;, &#39;aaaa&#39;, &#39;aaa&#39;]
more than 2: [&#39;aaaa&#39;, &#39;aaa&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="anchors">
<h3><span class="section-number">10.2.3. </span>Anchors<a class="headerlink" href="#anchors" title="Permalink to this headline">#</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">^</span></code> to anchor a pattern at the start of the search string and <code class="docutils literal notranslate"><span class="pre">$</span></code> to anchor at the end. In the special case that you want to have the whole search string match the pattern, you use both anchors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;At the start:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;^[Tt]he&quot;</span><span class="p">,</span> <span class="s2">&quot;The CEO is the boss&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;At the end:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;!$&quot;</span><span class="p">,</span> <span class="s2">&quot;Please! Say something!&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At the start: [&#39;The&#39;]
At the end: [&#39;!&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="alternatives">
<h3><span class="section-number">10.2.4. </span>Alternatives<a class="headerlink" href="#alternatives" title="Permalink to this headline">#</a></h3>
<p>To indicate alternative patterns you can use the <code class="docutils literal notranslate"><span class="pre">|</span></code> OR sign. Can als be used in conjunction with grabbing elements using parentheses. See below for details.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Literal alternatives:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;banana|apple&quot;</span><span class="p">,</span> <span class="s2">&quot;I want a banana or an apple!&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alternative patterns:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;bi[kt]e|[bc]ar&quot;</span><span class="p">,</span> <span class="s2">&quot;A bike, a bite, a car, a bar&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Literal alternatives: [&#39;banana&#39;, &#39;apple&#39;]
Alternative patterns: [&#39;bike&#39;, &#39;bite&#39;, &#39;car&#39;, &#39;bar&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="being-greedy-or-non-greedy">
<h3><span class="section-number">10.2.5. </span>Being greedy or non-greedy<a class="headerlink" href="#being-greedy-or-non-greedy" title="Permalink to this headline">#</a></h3>
<p>Sometimes, you want to influence the way a pattern is matched with regard to the length of the match.
Consider this example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Non-greedy:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;^.+ &quot;</span><span class="p">,</span> <span class="s2">&quot;To be greedy or not to be greedy&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Non-greedy: [&#39;To be greedy or not to be &#39;]
</pre></div>
</div>
</div>
</div>
<p>This looks for a sequence of characters at the beginning of the search string up to a space. The result is the entire phrase up to the last space. We call this <em>greedy</em> behaviour, which is the default for regex.<br />
What if you are only interested in the first word, up to the first space? In that case you need to use the non-greedy modifier, <code class="docutils literal notranslate"><span class="pre">?</span></code>. Again a symbol with multiple meanings in the context of regex…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Non-greedy:&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;^.+? &quot;</span><span class="p">,</span> <span class="s2">&quot;To be greedy or not to be greedy&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Non-greedy: [&#39;To &#39;]
</pre></div>
</div>
</div>
</div>
<p>The non-greedy modifier can be used in combination with any quantifier: <code class="docutils literal notranslate"><span class="pre">+?</span></code>, <code class="docutils literal notranslate"><span class="pre">*?</span></code>, <code class="docutils literal notranslate"><span class="pre">??</span></code>, <code class="docutils literal notranslate"><span class="pre">{,}?</span></code>.</p>
</div>
</div>
<div class="section" id="working-with-match-objects">
<h2><span class="section-number">10.3. </span>Working with <code class="docutils literal notranslate"><span class="pre">match</span></code> objects<a class="headerlink" href="#working-with-match-objects" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">search()</span></code> and <code class="docutils literal notranslate"><span class="pre">finditer()</span></code> functions return a (sequence of) Match objects. These match objects give much flexibility in dealing with your matches: from <em><strong>sub-patterns</strong></em> to <em><strong>match locations</strong></em>.</p>
<p>With this type of analysis it ofetn a good idea to create a compiled pattern. This saves much computation time if the operation is repeated often.</p>
<p>When placing pairs of parenthese in the pattern you can catch sub-patterns.</p>
<p>Here is an example of the use of Match objects and use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">postal_code_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;([0-9]</span><span class="si">{4}</span><span class="s2">[- ]?[A-Za-z]</span><span class="si">{2}</span><span class="s2">),? ([a-zA-Z]+)&quot;</span><span class="p">)</span>
<span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Please send a copy of this message to John Doe on Marktstraat 5, 2633 AX Someplace, </span>
<span class="s2">and to Jane Doe, Brink 3, 1221ZA, Nowhere.&quot;&quot;&quot;</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">postal_code_pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;whole match:&quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;postal code:&quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;town:       &quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;match start:&quot;</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>whole match: 2633 AX Someplace
postal code: 2633 AX
town:        Someplace
match start: 65
whole match: 1221ZA, Nowhere
postal code: 1221ZA
town:        Nowhere
match start: 111
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="modifying-flags">
<h2><span class="section-number">10.4. </span>Modifying flags<a class="headerlink" href="#modifying-flags" title="Permalink to this headline">#</a></h2>
<p>Finally, the Python regex engine gives you the possibility to modify the behaviour of its regex functions by using the <code class="docutils literal notranslate"><span class="pre">flags=</span></code> argument.
See <a class="reference external" href="https://docs.python.org/3/library/re.html#contents-of-module-re">here</a> for details on the flags.</p>
<p>The most-used are listed below</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>flag short form</p></th>
<th class="text-left head"><p>flag long form</p></th>
<th class="text-left head"><p>behaviour</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>re.I</p></td>
<td class="text-left"><p>re.IGNORECASE</p></td>
<td class="text-left"><p>Case-insensitive matching</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>re.M</p></td>
<td class="text-left"><p>re.MULTILINE</p></td>
<td class="text-left"><p>Matches <code class="docutils literal notranslate"><span class="pre">^</span></code> at the beginning of each line</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>re.S</p></td>
<td class="text-left"><p>re.DOTALL</p></td>
<td class="text-left"><p>Make the ‘.’ special character ALSO a newline</p></td>
</tr>
</tbody>
</table>
<p>If you want to combine multiple flags, you need to ‘OR’ them:</p>
<p><code class="docutils literal notranslate"><span class="pre">flags=re.I</span> <span class="pre">|</span> <span class="pre">re.DOTALL</span></code></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="08_exception_mechanism.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">9. </span>The exception mechanism</p>
      </div>
    </a>
    <a class="right-next"
       href="10_oo_programming.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">11. </span>Object-oriented programming</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">10.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regex-syntax">10.2. Regex syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#character-classes">10.2.1. Character classes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#special-character-classes">10.2.1.1. Special character classes</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantifiers">10.2.2. Quantifiers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anchors">10.2.3. Anchors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#alternatives">10.2.4. Alternatives</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#being-greedy-or-non-greedy">10.2.5. Being greedy or non-greedy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-match-objects">10.3. Working with <code class="docutils literal notranslate"><span class="pre">match</span></code> objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modifying-flags">10.4. Modifying flags</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Michiel Noback
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>