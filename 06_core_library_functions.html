

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7. The core library functions &#8212; Programming Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '06_core_library_functions';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. Comprehensions" href="07_comprehensions.html" />
    <link rel="prev" title="6. Reading and writing files" href="05_reading_writing_files.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/Hanze-Logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/Hanze-Logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    An intro to Python programming
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="00_jupyter.html">1. Jupyter notebook and Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_getting_started.html">2. A quick overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_data.html">3. Programming is: operations on data</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_flow_control.html">4. Control the flow of things</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_functions.html">5. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_reading_writing_files.html">6. Reading and writing files</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">7. The core library functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_comprehensions.html">8. Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_exception_mechanism.html">9. The exception mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_regex.html">10. Regular expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_oo_programming.html">11. Object-oriented programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_exercises.html">12. Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_anaconda.html">13. (Ana)conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_next_steps.html">14. Next steps: pandas</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/MichielNoback/pybook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/MichielNoback/pybook/issues/new?title=Issue%20on%20page%20%2F06_core_library_functions.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/06_core_library_functions.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>The core library functions</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-functions">7.1. Built-in functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-an-iteration-counter-with-enumerate">7.1.1. Get an iteration counter with <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-and-write-files-with-open">7.1.2. Read and write files with <code class="docutils literal notranslate"><span class="pre">open()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-between-characters-and-ascii-unicode">7.1.3. Converting between characters and ASCII/unicode</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting-with-sorted-and-list-sort">7.1.4. Sorting with <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> and <code class="docutils literal notranslate"><span class="pre">list.sort()</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-key-parameter">7.1.4.1. The <code class="docutils literal notranslate"><span class="pre">key</span></code> parameter</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lambdas-optional">7.1.5. Lambdas (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-key-sorting">7.1.5.1. Multi-key sorting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-filter-and-map-optional">7.2. Using <code class="docutils literal notranslate"><span class="pre">filter()</span></code> and <code class="docutils literal notranslate"><span class="pre">map()</span></code> (optional)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-modules">7.3. Working with modules</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-your-own-modules">7.3.1. Using your own modules</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#core-modules">7.3.2. Core modules</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sys">7.3.2.1. Module <code class="docutils literal notranslate"><span class="pre">sys</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modules-os-os-path">7.3.2.2. Modules <code class="docutils literal notranslate"><span class="pre">os</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">os.path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-itertools-module">7.3.2.3. The <code class="docutils literal notranslate"><span class="pre">itertools</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#module-csv">7.3.2.4. Module <code class="docutils literal notranslate"><span class="pre">csv</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pickle-module">7.3.2.5. The <code class="docutils literal notranslate"><span class="pre">pickle</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-shelve-module">7.3.2.6. The <code class="docutils literal notranslate"><span class="pre">shelve</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#json">7.3.2.7. JSON</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-concepts">7.4. Key concepts</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="tex2jax_ignore mathjax_ignore section" id="the-core-library-functions">
<h1><span class="section-number">7. </span>The core library functions<a class="headerlink" href="#the-core-library-functions" title="Permalink to this headline">#</a></h1>
<p>Python ships with a wealth of built-in functions at your disposal.
Some are readily available but many should be “activated” using an <code class="docutils literal notranslate"><span class="pre">import</span></code> statement.</p>
<p>This chapter only deals with a very cursory inspection; your should really bookmark the <a class="reference external" href="https://docs.python.org/3/library/index.html">docs</a>.</p>
<div class="section" id="built-in-functions">
<h2><span class="section-number">7.1. </span>Built-in functions<a class="headerlink" href="#built-in-functions" title="Permalink to this headline">#</a></h2>
<p>The builtins are the functions you have always at your disposal, without <code class="docutils literal notranslate"><span class="pre">import</span></code> statement. The list is not very long because this keeps the core of Python lean.
The complete list can be found in the <a class="reference external" href="https://docs.python.org/3/library/functions.html">doc page on built-ins</a></p>
<p>The core contains “constructor functions” for all built-in datatypes - which we have already seen: <code class="docutils literal notranslate"><span class="pre">bool()</span></code>, <code class="docutils literal notranslate"><span class="pre">dict()</span></code>, <code class="docutils literal notranslate"><span class="pre">float()</span></code>, <code class="docutils literal notranslate"><span class="pre">int()</span></code>, <code class="docutils literal notranslate"><span class="pre">list()</span></code>, <code class="docutils literal notranslate"><span class="pre">set()</span></code>, <code class="docutils literal notranslate"><span class="pre">str()</span></code>, <code class="docutils literal notranslate"><span class="pre">tuple()</span></code> (some were not discussed and will neither be listed here)</p>
<p>Also already discussed or demonstrated were <code class="docutils literal notranslate"><span class="pre">help()</span></code>, <code class="docutils literal notranslate"><span class="pre">input()</span></code>, <code class="docutils literal notranslate"><span class="pre">len()</span></code>, <code class="docutils literal notranslate"><span class="pre">max()</span></code>, <code class="docutils literal notranslate"><span class="pre">min()</span></code>, <code class="docutils literal notranslate"><span class="pre">range()</span></code>, <code class="docutils literal notranslate"><span class="pre">type()</span></code></p>
<p>There are some functions related to object-oriented programming (OOP): <code class="docutils literal notranslate"><span class="pre">getattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">setattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">hasattr()</span></code>, <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code>, <code class="docutils literal notranslate"><span class="pre">issubclass()</span></code>, <code class="docutils literal notranslate"><span class="pre">iter()</span></code>, <code class="docutils literal notranslate"><span class="pre">next()</span></code>, <code class="docutils literal notranslate"><span class="pre">staticmethod()</span></code> that will be deiscussed in the chapter on OOP.</p>
<p>In the listing below only a very short description is given. For a few others a more detailed discussion is provided in the following sections.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">abs()</span></code> gives the absolute value of a number (i.e. removes the minus sign if present).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dir()</span></code> and <code class="docutils literal notranslate"><span class="pre">vars()</span></code> help you inspect the attributes available on a class, object or the current environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sum()</span></code> gives the sum of a numeric iterable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pow(a,</span> <span class="pre">b)</span></code> calculates power of a to b (a^4)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">round()</span></code> rounds a number to the given number decimal digits (or to the nearest integer of none provided)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reversed()</span></code> gives a reversed <em>iterator</em> of a sequence object. Can be inserted in a list or tuple constructor, or in a iteration control structure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zip()</span></code> yields n-length tuples, where n is the number of iterables passed as positional arguments to zip().  The i-th element in every tuple comes from the i-th iterable argument to zip().</p></li>
</ul>
<div class="section" id="get-an-iteration-counter-with-enumerate">
<h3><span class="section-number">7.1.1. </span>Get an iteration counter with <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code><a class="headerlink" href="#get-an-iteration-counter-with-enumerate" title="Permalink to this headline">#</a></h3>
<p>Used primarily in <code class="docutils literal notranslate"><span class="pre">for</span></code> loops to get hold of an iteration counter. It is a solution for the <code class="docutils literal notranslate"><span class="pre">for(int</span> <span class="pre">i,</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">length(seq),</span> <span class="pre">i++){}</span></code> structure in other languages. The enumeration is wrapped around an iterable object such as string, list or other collection.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s2">&quot;abcd&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;the number </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> letter of the alphabet is </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>the number 1 letter of the alphabet is a
the number 2 letter of the alphabet is b
the number 3 letter of the alphabet is c
the number 4 letter of the alphabet is d
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="read-and-write-files-with-open">
<h3><span class="section-number">7.1.2. </span>Read and write files with <code class="docutils literal notranslate"><span class="pre">open()</span></code><a class="headerlink" href="#read-and-write-files-with-open" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">open()</span></code> function gives an iterator of file contents when used in a read-only context. It is often used in conjunction with the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/employees.txt&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>employee_id;last_name;role
1;Jacobs;ict architect
2;Howard;programmer
3;Pierson;data scientist
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">open()</span></code> function comes with a few more parameters, of which only the mode is inetersting right now. It takes a string inidcating how the file should be opened. The default is <code class="docutils literal notranslate"><span class="pre">&quot;rt&quot;</span></code> which means the file is opened in read-only, text mode.
When you want to <strong>write to file</strong> these are the options at your disposal:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code></strong>: <strong>Create</strong> - creates the file but returns an error if the file exists</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code></strong>: <strong>Append</strong> - creates the file if the specified file does not exist and appends to the end</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code></strong>: <strong>Write</strong> - creates the file if the specified file does not exist and overwrites if it does exist</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">]</span>
<span class="n">fruits_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/fruits.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="c1"># overwrite mode!</span>
<span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">fruits</span><span class="p">:</span>
    <span class="n">fruits_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;this is a fruit: </span><span class="si">{</span><span class="n">fruit</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1"># the \n adds a newline</span>
    
<span class="n">fruits_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The file fruits.txt now has this contents, no matter how often the snippet is run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">kiwi</span>
<span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">apple</span>
<span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">guava</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-between-characters-and-ascii-unicode">
<h3><span class="section-number">7.1.3. </span>Converting between characters and ASCII/unicode<a class="headerlink" href="#converting-between-characters-and-ascii-unicode" title="Permalink to this headline">#</a></h3>
<p>Below the surface, characters are just numbers. Originally there were only 128 characters that could be encoded using a byte: the ASCII characters:</p>
<p><img alt="ASCII codes" src="_images/ASCII_table.png" /></p>
<p>The pair of functions <strong><code class="docutils literal notranslate"><span class="pre">chr()</span></code></strong> and <strong><code class="docutils literal notranslate"><span class="pre">ord()</span></code></strong> can be used to convert characters to their numeric counterpart and vice versa. For instance,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
</pre></div>
</div>
<p>will sound a ‘bell’ (but not in Jupyter unfortunately - give it a try in ipython).</p>
<p>The distinction between <code class="docutils literal notranslate"><span class="pre">chr()</span></code> and <code class="docutils literal notranslate"><span class="pre">str()</span></code> is: <code class="docutils literal notranslate"><span class="pre">str()</span></code> will give the <em>string representation</em> of a number (or any object for that matter) whereas <code class="docutils literal notranslate"><span class="pre">chr()</span></code> will give the character belonging to a numeric code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="s2">&quot;Some Text&quot;</span>
<span class="n">ords</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">letters</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">test</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:&lt;3}</span><span class="s1"> is encoded by </span><span class="si">{:&lt;3}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>S   is encoded by 83 
o   is encoded by 111
m   is encoded by 109
e   is encoded by 101
    is encoded by 32 
T   is encoded by 84 
e   is encoded by 101
x   is encoded by 120
t   is encoded by 116
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sorting-with-sorted-and-list-sort">
<h3><span class="section-number">7.1.4. </span>Sorting with <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> and <code class="docutils literal notranslate"><span class="pre">list.sort()</span></code><a class="headerlink" href="#sorting-with-sorted-and-list-sort" title="Permalink to this headline">#</a></h3>
<p>Sorting is quite ubiquitous in programming: give top-5 performing employees, sort countries on average income, sort members on last name, etc.</p>
<p>There are two functions available.</p>
<ul class="simple">
<li><p>The built-in function <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> returns a sorted <strong><em>copy of</em></strong> the original list</p></li>
<li><p>The list method <code class="docutils literal notranslate"><span class="pre">sort()</span></code> performs an in-place sort that modifies the original list</p></li>
</ul>
<p>Both use <em>natural ordering</em> of text data (alphabetically) and numeric data (ascending) and both provide two customizing parameters: <code class="docutils literal notranslate"><span class="pre">reverse</span></code> and <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">fruits</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fruits</span><span class="p">)</span>        <span class="c1"># unchanged!</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;apple&#39;, &#39;guava&#39;, &#39;kiwi&#39;]
[&#39;kiwi&#39;, &#39;apple&#39;, &#39;guava&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">]</span>
<span class="n">fruits</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fruits</span><span class="p">)</span>        <span class="c1"># modified in-place</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;apple&#39;, &#39;guava&#39;, &#39;kiwi&#39;]
</pre></div>
</div>
</div>
</div>
<p><strong>Reversed sorting</strong> can be done using the function argument <code class="docutils literal notranslate"><span class="pre">reverse=True|False</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]))</span> <span class="c1"># default is reverse=False</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 4]
[4, 3, 2, 1]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">numbers</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">numbers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4, 3, 2, 1]
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-key-parameter">
<h4><span class="section-number">7.1.4.1. </span>The <code class="docutils literal notranslate"><span class="pre">key</span></code> parameter<a class="headerlink" href="#the-key-parameter" title="Permalink to this headline">#</a></h4>
<p>This parameter makes it possible to define custom sorting of collection types and objects. It takes as value a function that will return some property of each element to sort on.</p>
<p>For instance, suppose you want to sort a list of words on the second character:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">second_character_sorter</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">second_character_sorter</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;kiwi&#39;, &#39;apple&#39;, &#39;guava&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="lambdas-optional">
<h3><span class="section-number">7.1.5. </span>Lambdas (optional)<a class="headerlink" href="#lambdas-optional" title="Permalink to this headline">#</a></h3>
<div class="note admonition">
<p class="admonition-title">Lambdas</p>
<p>A lambda function is a small anonymous function that is usually locally defined.
They can take any number of arguments but can only have a single expression.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> parameter <code class="docutils literal notranslate"><span class="pre">key</span></code> is most often used in conjunction with an anonymous type of function called a <strong>lambda</strong>. They are usually defined at the location where they are needed and have the form of</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">lambda</span> <span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">return</span> <span class="nb">property</span> <span class="n">of</span> <span class="n">data</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The above function could have been written as this lambda:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">fruit</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">]</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">fruit</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;kiwi&#39;, &#39;apple&#39;, &#39;guava&#39;]
</pre></div>
</div>
</div>
</div>
<p>Here is another example, involving a list of dictionaries.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;green/red&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="s1">&#39;Europe&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;kiwi&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="s1">&#39;New Zealand&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="s1">&#39;Europe&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">:</span> <span class="s1">&#39;Africa&#39;</span><span class="p">}]</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">fruit</span><span class="p">:</span> <span class="n">fruit</span><span class="p">[</span><span class="s1">&#39;origin&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;name&#39;: &#39;banana&#39;, &#39;color&#39;: &#39;yellow&#39;, &#39;origin&#39;: &#39;Africa&#39;},
 {&#39;name&#39;: &#39;apple&#39;, &#39;color&#39;: &#39;green/red&#39;, &#39;origin&#39;: &#39;Europe&#39;},
 {&#39;name&#39;: &#39;orange&#39;, &#39;color&#39;: &#39;orange&#39;, &#39;origin&#39;: &#39;Europe&#39;},
 {&#39;name&#39;: &#39;kiwi&#39;, &#39;color&#39;: &#39;green&#39;, &#39;origin&#39;: &#39;New Zealand&#39;}]
</pre></div>
</div>
</div>
</div>
<div class="section" id="multi-key-sorting">
<h4><span class="section-number">7.1.5.1. </span>Multi-key sorting<a class="headerlink" href="#multi-key-sorting" title="Permalink to this headline">#</a></h4>
<p>Whenever you need sorting based on multiple properties - e.g. sorting first on family name and then on given name - you can employ the trick of tuple sorting.<br />
If your ‘key’ function returns a tuple, then standard tuple sorting will be performed: on each consecutive element of the tuple.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">persons</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Mark&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Adams&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">},</span>
           <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Brad&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Young&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">64</span><span class="p">},</span> 
           <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Rose&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Berg&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">51</span><span class="p">},</span>
           <span class="p">{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="s1">&#39;Julia&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">:</span> <span class="s1">&#39;Adams&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">}]</span>

<span class="k">def</span> <span class="nf">last_first_sort</span><span class="p">(</span><span class="n">person</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">person</span><span class="p">[</span><span class="s1">&#39;last&#39;</span><span class="p">],</span> <span class="n">person</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">])</span>  <span class="c1"># returns a tuple with last and first name</span>

<span class="nb">sorted</span><span class="p">(</span><span class="n">persons</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="n">last_first_sort</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[{&#39;first&#39;: &#39;Julia&#39;, &#39;last&#39;: &#39;Adams&#39;, &#39;age&#39;: 28},
 {&#39;first&#39;: &#39;Mark&#39;, &#39;last&#39;: &#39;Adams&#39;, &#39;age&#39;: 35},
 {&#39;first&#39;: &#39;Rose&#39;, &#39;last&#39;: &#39;Berg&#39;, &#39;age&#39;: 51},
 {&#39;first&#39;: &#39;Brad&#39;, &#39;last&#39;: &#39;Young&#39;, &#39;age&#39;: 64}]
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="using-filter-and-map-optional">
<h2><span class="section-number">7.2. </span>Using <code class="docutils literal notranslate"><span class="pre">filter()</span></code> and <code class="docutils literal notranslate"><span class="pre">map()</span></code> (optional)<a class="headerlink" href="#using-filter-and-map-optional" title="Permalink to this headline">#</a></h2>
<p>These functions are used on collections, to filter the elements in them on some property, or to change each element or to swap them for something else. They represent important players in the filter-map-reduce functional programming paradigm.</p>
<p>For example, imagine a cupcake production line. There will be a machine taking in a plate of cupcakes and applying frosting to all of them: it <strong>maps</strong> a cupcake to a frosted cupcake. There will also be a machine taking in a plate of cupcakes, removing the badly formed ones: it <strong>filters</strong> the cupcakes, only letting the good ones pass.</p>
<ul class="simple">
<li><p><strong>map()</strong> applies a function (e.g. frosting) to all members of a collection, and returns the resulting collection, which is of course the same size as the original</p></li>
<li><p><strong>filter()</strong> applies a function (e.g. scanning bad cupcakes) to all members of a collection, only keeping those members that pass the function (return True)</p></li>
</ul>
<p><img alt="Map vs Filter" src="_images/map_filter.png" />
Here follows an example of a map/filter chain. Note that both map and filter produce iterator objects that you usually need to embed in a collection constructor.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">capitalize_name</span><span class="p">(</span><span class="n">fruit</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">fruit</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
    
<span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">capitalize_name</span><span class="p">,</span> <span class="n">fruits</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Kiwi&#39;, &#39;Orange&#39;, &#39;Apple&#39;, &#39;Guava&#39;, &#39;Banana&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;kiwi&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;guava&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">filter_with_an</span><span class="p">(</span><span class="n">fruit</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;an&quot;</span> <span class="ow">in</span> <span class="n">fruit</span>
    
<span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">filter_with_an</span><span class="p">,</span> <span class="n">fruits</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;orange&#39;, &#39;banana&#39;]
</pre></div>
</div>
</div>
</div>
<p>Note that working with these functions is largely superceded by the use of comprehensions, which are outlined in the next chapter. I included these functions here for completeness’ sake, and because not everybody likes comprehensions.</p>
</div>
<div class="section" id="working-with-modules">
<h2><span class="section-number">7.3. </span>Working with modules<a class="headerlink" href="#working-with-modules" title="Permalink to this headline">#</a></h2>
<p>The core functionality of Python that is available to you once you start coding is rather small. That is because the deveolpers of the language wanted to keep the memory footprint as small as possible.
Why load functionality if there is a significant possibility it will not be used?</p>
<p>To solve the footprint problem, most functionality in Python is put inside <strong><em>modules</em></strong>.</p>
<div class="note admonition">
<p class="admonition-title">Modules</p>
<p>A Python module is a file containing code that can be <em>imported</em> into other modules, scripts or interactive sessions. A module can define functions, classes and variables. A module can also include runnable code.</p>
<p>A module allows you to organize and distribute your Python code. Grouping related code into a module makes the code easier to understand and use.</p>
</div>
<p>To make use of functionality (or data) within modules you need to <strong><em>import</em></strong> these. Here is a small example to illustrate.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<p>When you want to access data or functions within a module you need to use the module name, followed by the dot operator and then the function or data attribute name, as in <code class="docutils literal notranslate"><span class="pre">math.sqrt()</span></code></p>
<p>To prevent having to type the module name all the time you can also specify which attributes of a module you want to import using the <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module&gt;</span> <span class="pre">import</span> <span class="pre">&lt;attr&gt;</span></code> syntax:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">ceil</span><span class="p">,</span> <span class="n">floor</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">ceil</span><span class="p">(</span><span class="mf">3.1222</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="mf">3.567</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
3
</pre></div>
</div>
</div>
</div>
<p>Or, alternatively, use <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;module&gt;</span> <span class="pre">import</span> <span class="pre">&lt;attr&gt;</span> <span class="pre">as</span> <span class="pre">&lt;name&gt;</span></code> to use a different name than the one specified for/in the module itself:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">floor</span> <span class="k">as</span> <span class="n">fl</span>
<span class="n">fl</span><span class="p">(</span><span class="mf">3.9999</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<p>To import everything from a module you use the asterisk:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Be hesitant to do this because it clutters your global namespace.<br />
Besides this, using the <code class="docutils literal notranslate"><span class="pre">math.ceil()</span></code> syntax makes it clear in which module the function was defined.</p>
<div class="section" id="using-your-own-modules">
<h3><span class="section-number">7.3.1. </span>Using your own modules<a class="headerlink" href="#using-your-own-modules" title="Permalink to this headline">#</a></h3>
<p>Whenever you create functionality that you want to reuse between scripts you can put those functions within a script and put this in the <strong>Python search path</strong>. This concept is out of scope for the course. The simplest way is to put it somewhere in a subfolder of your current project.</p>
<p>See <a class="reference external" href="https://realpython.com/lessons/module-search-path/">RealPython</a> for a discussion of this topic.</p>
<p>In the example below, the module is defined by file <code class="docutils literal notranslate"><span class="pre">my_module.py</span></code> located in folder <code class="docutils literal notranslate"><span class="pre">./scripts</span></code>, the contents of which are:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">a simple module</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Programming is for everyone&quot;</span>

<span class="k">def</span> <span class="nf">say_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scripts</span> <span class="kn">import</span> <span class="n">my_module</span>
<span class="n">my_module</span><span class="o">.</span><span class="n">say_hello</span><span class="p">(</span><span class="s2">&quot;Rob&quot;</span><span class="p">)</span>

<span class="c1">#or</span>
<span class="c1"># from scripts.my_module import say_hello</span>
<span class="c1"># say_hello(&quot;Mike&quot;)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">help</span><span class="p">(</span><span class="n">my_module</span><span class="p">))</span> <span class="c1"># use help to get info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello Rob!
Help on module scripts.my_module in scripts:

NAME
    scripts.my_module - a simple module

FUNCTIONS
    say_hello(name)

DATA
    message = &#39;Programming is for everyone&#39;

FILE
    /Users/michielnoback/git_projects/python_intro/scripts/my_module.py


None
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="core-modules">
<h3><span class="section-number">7.3.2. </span>Core modules<a class="headerlink" href="#core-modules" title="Permalink to this headline">#</a></h3>
<p>Besides the math module we have seen before Python ships with a wealth of other modles, each with their specific purpose and application domain. Here are just a few, and even less examples; have a look at <a class="reference external" href="https://docs.python.org/3/library/">The Python docs</a> for a complete listing.</p>
<p>For all modules, importing them and typing <code class="docutils literal notranslate"><span class="pre">help(module)</span></code> is the best way to get detailed information.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>module</strong></p></th>
<th class="head"><p><strong>purpose</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>time &amp; datetime</strong></p></td>
<td><p>time and date manipulations</p></td>
</tr>
<tr class="row-odd"><td><p><strong>math</strong></p></td>
<td><p>math data and functions</p></td>
</tr>
<tr class="row-even"><td><p><strong>os &amp; os.path</strong></p></td>
<td><p>operating system interface</p></td>
</tr>
<tr class="row-odd"><td><p><strong>sys</strong></p></td>
<td><p>interpreter acces</p></td>
</tr>
<tr class="row-even"><td><p><strong>itertools</strong></p></td>
<td><p>functions creating iterators for efficient looping</p></td>
</tr>
<tr class="row-odd"><td><p><strong>csv</strong></p></td>
<td><p>cvs file reading and parsing</p></td>
</tr>
<tr class="row-even"><td><p><strong>pickle</strong></p></td>
<td><p>storing objects on disk</p></td>
</tr>
<tr class="row-odd"><td><p><strong>shelve</strong></p></td>
<td><p>storing objects in a “dict on disk”</p></td>
</tr>
</tbody>
</table>
<div class="section" id="module-sys">
<h4><span class="section-number">7.3.2.1. </span>Module <code class="docutils literal notranslate"><span class="pre">sys</span></code><a class="headerlink" href="#module-sys" title="Permalink to this headline">#</a></h4>
<p>This module is used for interacting with the interpreter, the <em>Python system</em>, not with the Operating System (see module <code class="docutils literal notranslate"><span class="pre">os</span></code>). Here are the main attributes and functions (copied from help):</p>
<p>Objects:</p>
<ul class="simple">
<li><p>argv – command line arguments; argv[0] is the script pathname if known</p></li>
<li><p>stdin – standard input file object; used by input()</p></li>
<li><p>stdout – standard output file object; used by print()</p></li>
<li><p>stderr – standard error object; used for error messages</p></li>
</ul>
<p>By assigning other file objects (or objects that behave like files)
to these, it is possible to redirect all of the interpreter’s I/O.</p>
<p>Functions:</p>
<ul class="simple">
<li><p>exit() – exit the interpreter by raising SystemExit</p></li>
</ul>
<p>Example: using redirection of output stream. By providing a <code class="docutils literal notranslate"><span class="pre">write()</span></code> method you can redirect messages sent to the output stream, as in <code class="docutils literal notranslate"><span class="pre">print()</span></code>. First we need an interceptor:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyLogger</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;My Logger</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msgCount</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">message</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">:</span>
            <span class="k">return</span>  
        <span class="bp">self</span><span class="o">.</span><span class="n">msgCount</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;[</span><span class="si">{}</span><span class="s1">: </span><span class="si">{}</span><span class="s1">]</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msgCount</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Next we can use this to intercept, store and adjust print messages</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;start log test</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1">## to regular std out</span>
<span class="n">myLog</span> <span class="o">=</span> <span class="n">MyLogger</span><span class="p">()</span>
<span class="n">_out</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span>         <span class="c1">## store for later usage</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">myLog</span>        <span class="c1">## redirect stdout to myLogger</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a first message&#39;</span><span class="p">)</span>  <span class="c1">## print to myLogger</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a second message&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">_out</span>         <span class="c1">## restore print to std out</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">myLog</span><span class="o">.</span><span class="n">log</span><span class="p">))</span> <span class="c1">## print myLog to std out</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;end log test&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>start log test

My Logger
[1: a first message]
[2: a second message]

end log test
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="modules-os-os-path">
<h4><span class="section-number">7.3.2.2. </span>Modules <code class="docutils literal notranslate"><span class="pre">os</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">os.path</span></code><a class="headerlink" href="#modules-os-os-path" title="Permalink to this headline">#</a></h4>
<p>As stated, the <code class="docutils literal notranslate"><span class="pre">os</span></code> module is used to interact with the operating system, especially the file system. Here are some common use cases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>                          <span class="c1">#working dir - defaults to where the script lives</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()[:</span><span class="mi">2</span><span class="p">]</span>        <span class="c1"># list contents (only first two items)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/michielnoback/git_projects/python_intro
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;13_next_steps.ipynb&#39;, &#39;07_comprehensions.ipynb&#39;]
</pre></div>
</div>
</div>
</div>
<p>Other <code class="docutils literal notranslate"><span class="pre">os</span></code> functions that are often used:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.chdir()</span></code></strong>: change the current working directory</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.mkdir(path[,</span> <span class="pre">mode])</span></code></strong>: Create a directory named path (with unix mode). You can also create temporary directories; see tempfile module</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.remove(path)</span></code></strong>: Remove (delete) the file path. If path is a directory, an OSError is raised; see rmdir() below to remove a directory.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.rename(src,dst)</span></code></strong>: Rename the file or directory src to dst</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.system(command)</span></code></strong>: Execute the command (a string) in a subshell</p></li>
</ul>
<p>Some <code class="docutils literal notranslate"><span class="pre">os.path</span></code> goodies</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.sep</span></code></strong>: The character used by the OS to separate pathname components: ‘/’ (Linux) or ‘' (Windows)</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.exists(path)</span></code></strong>: True if path refers to an existing path</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.isfile(path)</span></code></strong>: True if path is an existing regular file</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.isdir(path)</span></code></strong>: True if path is an existing directory</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.split(path)</span></code></strong>: a split pathname into a pair (head, tail) where tail is the last pathname component and head is everything leading up to it</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">os.path.join(path1[,</span> <span class="pre">path2[,</span> <span class="pre">...]])</span></code></strong>: an intelligently joined set of components</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os.path</span> <span class="k">as</span> <span class="nn">path</span>
<span class="nb">print</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;Downloads&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="s2">&quot;project1&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;/Users/michielnoback/git_projects&#39;, &#39;python_intro&#39;)
Downloads/data/project1
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-itertools-module">
<h4><span class="section-number">7.3.2.3. </span>The <code class="docutils literal notranslate"><span class="pre">itertools</span></code> module<a class="headerlink" href="#the-itertools-module" title="Permalink to this headline">#</a></h4>
<p>Module <code class="docutils literal notranslate"><span class="pre">itertools</span></code> provides functions that create iterators for efficient looping. Here are a few:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
<span class="nb">print</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>         <span class="c1"># prints the type and properties, not the data</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>   <span class="c1"># need to wrap it in collection type or loop it</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">accumulate</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>repeat(42, 5)
[42, 42, 42, 42, 42]
[(1, &#39;a&#39;), (1, &#39;b&#39;), (2, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;a&#39;), (3, &#39;b&#39;)]
[2, 6, 12]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="module-csv">
<h4><span class="section-number">7.3.2.4. </span>Module <code class="docutils literal notranslate"><span class="pre">csv</span></code><a class="headerlink" href="#module-csv" title="Permalink to this headline">#</a></h4>
<p>Text files with the csv format are quite ubiquitous in data science.</p>
<p>Of course, you can write your own parser for every file type, which is not difficult of course, but you can make it even easier for yourself. Just use module csv!</p>
<p>Here, I present some examples for reading csv files. Remember that writing is just as easy!</p>
<p>As example, see the input file <code class="docutils literal notranslate"><span class="pre">data/exp_data.csv</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">exp</span><span class="p">,</span><span class="n">value</span><span class="p">,</span><span class="n">message</span>
<span class="mi">1</span><span class="p">,</span><span class="mf">0.567</span><span class="p">,</span><span class="n">OK</span>
<span class="mi">2</span><span class="p">,</span><span class="mf">0.334</span><span class="p">,</span><span class="n">OK</span>
<span class="mi">3</span><span class="p">,</span><span class="mf">0.325</span><span class="p">,</span><span class="n">ND</span>
<span class="mi">4</span><span class="p">,</span><span class="mf">0.766</span><span class="p">,</span><span class="n">OK</span>
<span class="mi">5</span><span class="p">,</span><span class="mf">0.455</span><span class="p">,</span><span class="n">OK</span>
<span class="mi">6</span><span class="p">,</span><span class="mf">0.421</span><span class="p">,</span><span class="n">ERR</span>
<span class="mi">7</span><span class="p">,</span><span class="mf">0.876</span><span class="p">,</span><span class="n">OK</span>
</pre></div>
</div>
<p>Let’s look at how to process this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/exp_data.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
    <span class="n">csv_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv_reader</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;exp&#39;, &#39;value&#39;, &#39;message&#39;]
[&#39;1&#39;, &#39;0.567&#39;, &#39;OK&#39;]
[&#39;2&#39;, &#39;0.334&#39;, &#39;OK&#39;]
[&#39;3&#39;, &#39;0.325&#39;, &#39;ND&#39;]
[&#39;4&#39;, &#39;0.766&#39;, &#39;OK&#39;]
[&#39;5&#39;, &#39;0.455&#39;, &#39;OK&#39;]
[&#39;6&#39;, &#39;0.421&#39;, &#39;ERR&#39;]
[&#39;7&#39;, &#39;0.876&#39;, &#39;OK&#39;]
</pre></div>
</div>
</div>
</div>
<p>Alternatively, you can get an iterator of dictionaries where the first line in the file is assumed to be a header line</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/exp_data.csv&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv_file</span><span class="p">:</span>
    <span class="n">csv_reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">csv_reader</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;exp&#39;: &#39;1&#39;, &#39;value&#39;: &#39;0.567&#39;, &#39;message&#39;: &#39;OK&#39;}
{&#39;exp&#39;: &#39;2&#39;, &#39;value&#39;: &#39;0.334&#39;, &#39;message&#39;: &#39;OK&#39;}
{&#39;exp&#39;: &#39;3&#39;, &#39;value&#39;: &#39;0.325&#39;, &#39;message&#39;: &#39;ND&#39;}
{&#39;exp&#39;: &#39;4&#39;, &#39;value&#39;: &#39;0.766&#39;, &#39;message&#39;: &#39;OK&#39;}
{&#39;exp&#39;: &#39;5&#39;, &#39;value&#39;: &#39;0.455&#39;, &#39;message&#39;: &#39;OK&#39;}
{&#39;exp&#39;: &#39;6&#39;, &#39;value&#39;: &#39;0.421&#39;, &#39;message&#39;: &#39;ERR&#39;}
{&#39;exp&#39;: &#39;7&#39;, &#39;value&#39;: &#39;0.876&#39;, &#39;message&#39;: &#39;OK&#39;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-pickle-module">
<h4><span class="section-number">7.3.2.5. </span>The <code class="docutils literal notranslate"><span class="pre">pickle</span></code> module<a class="headerlink" href="#the-pickle-module" title="Permalink to this headline">#</a></h4>
<p>Python can write any data structure and objects into a file and read it again out of that file.
This is done using the pickle module.</p>
<p>This is a very useful feature if -for example- you want to store program state for a next run.
Here is a simple example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>

<span class="n">my_preferences</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">&#39;verbosity&#39;</span><span class="p">:</span> <span class="s1">&#39;HIGH&#39;</span><span class="p">}</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/preferences&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;bw&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dmp</span><span class="p">:</span>  <span class="c1">#write to bniary mode</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">my_preferences</span><span class="p">,</span> <span class="n">dmp</span><span class="p">)</span>
    
<span class="c1"># don&#39;t try to read the file - it is binary</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/preferences&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dmp</span><span class="p">:</span>  <span class="c1">#read from binary mode</span>
    <span class="n">loaded_prefs</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">dmp</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">loaded_prefs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;linewidth&#39;: 60, &#39;verbosity&#39;: &#39;HIGH&#39;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="the-shelve-module">
<h4><span class="section-number">7.3.2.6. </span>The <code class="docutils literal notranslate"><span class="pre">shelve</span></code> module<a class="headerlink" href="#the-shelve-module" title="Permalink to this headline">#</a></h4>
<p>Related to the pickle module is the shelve module.<br />
It is generally used to store data in a database-like structure.<br />
The difference is you do NOT have to load the entire data structure every time you want to access a single item of it.</p>
<p>Here is a first run of the script: it stores three users.
When you call open() on a non-existing shelve, one is automatically created.
With the example below, a binary filed named <code class="docutils literal notranslate"><span class="pre">users.db</span></code> is created.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shelve</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">shelve</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;data/users&quot;</span><span class="p">)</span>
<span class="n">users</span><span class="p">[</span><span class="s1">&#39;Mich&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Michiel&#39;</span><span class="p">,</span> <span class="n">access</span><span class="o">=</span><span class="s1">&#39;ALL&#39;</span><span class="p">)</span>
<span class="n">users</span><span class="p">[</span><span class="s1">&#39;Piet&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Piet&#39;</span><span class="p">,</span> <span class="n">access</span><span class="o">=</span><span class="s1">&#39;EDIT&#39;</span><span class="p">)</span>
<span class="n">users</span><span class="p">[</span><span class="s1">&#39;Sven&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sven&#39;</span><span class="p">,</span> <span class="n">access</span><span class="o">=</span><span class="s1">&#39;NONE&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="s1">&#39;Mich&#39;</span><span class="p">])</span>
<span class="n">users</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;name&#39;: &#39;Michiel&#39;, &#39;access&#39;: &#39;ALL&#39;}
</pre></div>
</div>
</div>
</div>
<p>Now do an update, and a read operation; imagine this is in another shell or script:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_users</span> <span class="o">=</span> <span class="n">shelve</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;data/users&quot;</span><span class="p">)</span>
<span class="n">new_users</span><span class="p">[</span><span class="s1">&#39;Arne&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Arne Poortinga&#39;</span><span class="p">,</span> <span class="n">access</span><span class="o">=</span><span class="s1">&#39;MIN&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_users</span><span class="p">[</span><span class="s1">&#39;Mich&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">new_users</span><span class="p">))</span>    <span class="c1"># 4 users in the database now</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;name&#39;: &#39;Michiel&#39;, &#39;access&#39;: &#39;ALL&#39;}
4
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="json">
<h4><span class="section-number">7.3.2.7. </span>JSON<a class="headerlink" href="#json" title="Permalink to this headline">#</a></h4>
<p>Although pickle and shelve are convenient, With serious applications JSON is the way to go. There are many libraries and programming languages with integrated support for json, and stored files are human-readable as well. This is outside the scope of this course.<br />
Have a look at the <a class="reference external" href="https://docs.python.org/3/library/json.html">json module</a></p>
</div>
</div>
</div>
<div class="section" id="key-concepts">
<h2><span class="section-number">7.4. </span>Key concepts<a class="headerlink" href="#key-concepts" title="Permalink to this headline">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<ul class="simple">
<li><p><strong>lambda</strong>: A lambda is an anonymous locally-defined function, an inline executable statement.</p></li>
<li><p><strong>filter-map-reduce</strong>: Map, Filter, and Reduce are paradigms of functional programming. See <a class="reference external" href="https://www.learnpython.org/en/Map%2C_Filter%2C_Reduce">here</a> for more details.</p></li>
<li><p><strong>module</strong>: A module is a file containing code that can be <em>imported</em> into other modules, scripts or interactive sessions. A module can define functions, classes and variables.</p></li>
</ul>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "education"
        },
        kernelOptions: {
            name: "education",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'education'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="05_reading_writing_files.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">6. </span>Reading and writing files</p>
      </div>
    </a>
    <a class="right-next"
       href="07_comprehensions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Comprehensions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-functions">7.1. Built-in functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get-an-iteration-counter-with-enumerate">7.1.1. Get an iteration counter with <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read-and-write-files-with-open">7.1.2. Read and write files with <code class="docutils literal notranslate"><span class="pre">open()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-between-characters-and-ascii-unicode">7.1.3. Converting between characters and ASCII/unicode</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting-with-sorted-and-list-sort">7.1.4. Sorting with <code class="docutils literal notranslate"><span class="pre">sorted()</span></code> and <code class="docutils literal notranslate"><span class="pre">list.sort()</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-key-parameter">7.1.4.1. The <code class="docutils literal notranslate"><span class="pre">key</span></code> parameter</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lambdas-optional">7.1.5. Lambdas (optional)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-key-sorting">7.1.5.1. Multi-key sorting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-filter-and-map-optional">7.2. Using <code class="docutils literal notranslate"><span class="pre">filter()</span></code> and <code class="docutils literal notranslate"><span class="pre">map()</span></code> (optional)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-modules">7.3. Working with modules</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-your-own-modules">7.3.1. Using your own modules</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#core-modules">7.3.2. Core modules</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#module-sys">7.3.2.1. Module <code class="docutils literal notranslate"><span class="pre">sys</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modules-os-os-path">7.3.2.2. Modules <code class="docutils literal notranslate"><span class="pre">os</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">os.path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-itertools-module">7.3.2.3. The <code class="docutils literal notranslate"><span class="pre">itertools</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#module-csv">7.3.2.4. Module <code class="docutils literal notranslate"><span class="pre">csv</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pickle-module">7.3.2.5. The <code class="docutils literal notranslate"><span class="pre">pickle</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-shelve-module">7.3.2.6. The <code class="docutils literal notranslate"><span class="pre">shelve</span></code> module</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#json">7.3.2.7. JSON</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-concepts">7.4. Key concepts</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Michiel Noback
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>